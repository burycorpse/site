const _0x583a3f=_0x1bf8;(function(_0x550436,_0x2ff652){const _0x110c1e=_0x1bf8,_0x1486d6=_0x550436();while(!![]){try{const _0x4965af=parseInt(_0x110c1e(0xb4))/0x1+parseInt(_0x110c1e(0x90))/0x2+parseInt(_0x110c1e(0xfc))/0x3*(parseInt(_0x110c1e(0x96))/0x4)+-parseInt(_0x110c1e(0x87))/0x5+-parseInt(_0x110c1e(0x109))/0x6+parseInt(_0x110c1e(0xe8))/0x7*(-parseInt(_0x110c1e(0xe2))/0x8)+parseInt(_0x110c1e(0xab))/0x9*(parseInt(_0x110c1e(0x106))/0xa);if(_0x4965af===_0x2ff652)break;else _0x1486d6['push'](_0x1486d6['shift']());}catch(_0x38c7c6){_0x1486d6['push'](_0x1486d6['shift']());}}}(_0x4599,0xcdfbb));const CONFIG={'ADMIN_KEY_HASH':_0x583a3f(0x13b),'GITHUB_REPO_OWNER':_0x583a3f(0xa4),'GITHUB_REPO_NAME':'site','GITHUB_USERS_PATH':_0x583a3f(0xd9),'GITHUB_BLACKLIST_PATH':_0x583a3f(0x10d),'GITHUB_API_BASE':'https://api.github.com','LOGIN_WEBHOOK_URL':_0x583a3f(0x7e),'DEFAULT_TIMEOUT':0x3a98};let githubPAT=null,currentWhitelistData={'allowed_users':{}},currentWhitelistSha=null,currentBlacklistData={'blacklisted':{}},currentBlacklistSha=null,pendingChanges=![];const loginScreen=document['getElementById']('login-screen'),mainContent=document[_0x583a3f(0x112)]('main-content'),adminKeyInput=document[_0x583a3f(0x112)](_0x583a3f(0x127)),loginButton=document['getElementById'](_0x583a3f(0xa9)),loginError=document['getElementById'](_0x583a3f(0xc3)),logoutButton=document[_0x583a3f(0x112)](_0x583a3f(0x11e)),loggedInStatus=document[_0x583a3f(0x112)](_0x583a3f(0xe9)),loadingIndicator=document['getElementById']('loading-indicator'),errorDisplay=document['getElementById'](_0x583a3f(0x85)),tabButtons=document[_0x583a3f(0x11f)](_0x583a3f(0xac)),tabContents=document['querySelectorAll'](_0x583a3f(0xca)),whitelistTab=document[_0x583a3f(0x112)](_0x583a3f(0x135)),blacklistTab=document[_0x583a3f(0x112)](_0x583a3f(0x75)),whitelistTableContainer=document[_0x583a3f(0x112)](_0x583a3f(0x12c)),blacklistTableContainer=document[_0x583a3f(0x112)](_0x583a3f(0x133)),whitelistCountSpan=document[_0x583a3f(0x112)](_0x583a3f(0xa0)),blacklistCountSpan=document[_0x583a3f(0x112)](_0x583a3f(0x8e)),whitelistFilterInput=document['getElementById']('whitelist-filter'),blacklistFilterInput=document[_0x583a3f(0x112)](_0x583a3f(0xd1)),addUserButton=document[_0x583a3f(0x112)]('add-user-button'),addBanButton=document[_0x583a3f(0x112)](_0x583a3f(0xc8)),userModal=document[_0x583a3f(0x112)](_0x583a3f(0x12a)),userForm=document[_0x583a3f(0x112)](_0x583a3f(0xae)),modalTitle=document[_0x583a3f(0x112)](_0x583a3f(0xd8)),editUserIdInput=document[_0x583a3f(0x112)](_0x583a3f(0x82)),userIdInput=document[_0x583a3f(0x112)](_0x583a3f(0x125)),userExpiryInput=document[_0x583a3f(0x112)](_0x583a3f(0x12f)),userAutoLoginCheckbox=document['getElementById']('user-auto-login'),banModal=document['getElementById'](_0x583a3f(0xc7)),banForm=document[_0x583a3f(0x112)](_0x583a3f(0x13e)),banModalTitle=document[_0x583a3f(0x112)]('ban-modal-title'),editBanUserIdInput=document['getElementById'](_0x583a3f(0x123)),banUserIdInput=document['getElementById']('ban-user-id'),banReasonInput=document[_0x583a3f(0x112)]('ban-reason'),banExpiryInput=document[_0x583a3f(0x112)]('ban-expiry'),banIpInput=document[_0x583a3f(0x112)]('ban-ip'),banHwidInput=document[_0x583a3f(0x112)](_0x583a3f(0x98)),patModal=document[_0x583a3f(0x112)]('pat-modal'),githubPatInput=document['getElementById'](_0x583a3f(0xa1)),confirmPatButton=document[_0x583a3f(0x112)](_0x583a3f(0xc5)),cancelPatButton=document[_0x583a3f(0x112)](_0x583a3f(0xbe)),patError=document['getElementById'](_0x583a3f(0xdb));document[_0x583a3f(0xfa)](_0x583a3f(0x113),()=>{const _0x260ebc=_0x583a3f;sessionStorage[_0x260ebc(0x7a)](_0x260ebc(0x138))===_0x260ebc(0x122)?(showMainContent(),loadInitialData()):showLoginScreen(),setupEventListeners();});function setupEventListeners(){const _0x41314c=_0x583a3f;loginButton['addEventListener'](_0x41314c(0xcd),handleLogin),adminKeyInput[_0x41314c(0xfa)](_0x41314c(0xc2),_0x1d7c1a=>{const _0x4b4906=_0x41314c;if(_0x1d7c1a[_0x4b4906(0x9a)]===_0x4b4906(0xf1))handleLogin();}),logoutButton[_0x41314c(0xfa)]('click',handleLogout),tabButtons[_0x41314c(0xd7)](_0x54a5f5=>{const _0x5cd345=_0x41314c;_0x54a5f5[_0x5cd345(0xfa)](_0x5cd345(0xcd),()=>switchTab(_0x54a5f5[_0x5cd345(0x118)][_0x5cd345(0xdd)]));}),whitelistFilterInput[_0x41314c(0xfa)](_0x41314c(0xd6),()=>renderWhitelistTable(currentWhitelistData[_0x41314c(0xa2)])),blacklistFilterInput[_0x41314c(0xfa)](_0x41314c(0xd6),()=>renderBlacklistTable(currentBlacklistData[_0x41314c(0x84)])),addUserButton['addEventListener']('click',openAddUserModal),addBanButton[_0x41314c(0xfa)](_0x41314c(0xcd),openAddBanModal),userForm[_0x41314c(0xfa)](_0x41314c(0x7d),handleSaveUser),banForm[_0x41314c(0xfa)](_0x41314c(0x7d),handleSaveBan);}async function handleLogin(){const _0x3d0c10=_0x583a3f,_0x3e9a13=adminKeyInput[_0x3d0c10(0xf0)];loginError['textContent']='';if(!_0x3e9a13){loginError[_0x3d0c10(0x80)]=_0x3d0c10(0x120);return;}try{const _0x30d1dd=await sha256(_0x3e9a13);_0x30d1dd===CONFIG[_0x3d0c10(0x99)]?(sessionStorage[_0x3d0c10(0x139)](_0x3d0c10(0x138),_0x3d0c10(0x122)),await sendLoginWebhook(_0x3e9a13),showMainContent(),loadInitialData()):(loginError[_0x3d0c10(0x80)]=_0x3d0c10(0xea),adminKeyInput[_0x3d0c10(0xf0)]='');}catch(_0x1fdbc6){console[_0x3d0c10(0xf5)](_0x3d0c10(0xf8),_0x1fdbc6),loginError['textContent']=_0x3d0c10(0x104);}}function handleLogout(){const _0x1f482d=_0x583a3f;sessionStorage[_0x1f482d(0x129)]('mdiAdminLoggedIn'),githubPAT=null,currentWhitelistData={'allowed_users':{}},currentBlacklistData={'blacklisted':{}},showLoginScreen(),whitelistTableContainer[_0x1f482d(0x101)]='',blacklistTableContainer[_0x1f482d(0x101)]='',whitelistFilterInput['value']='',blacklistFilterInput['value']='',whitelistCountSpan['textContent']='0',blacklistCountSpan[_0x1f482d(0x80)]='0',errorDisplay[_0x1f482d(0x80)]='',errorDisplay['style'][_0x1f482d(0xb6)]=_0x1f482d(0xb5);}function showLoginScreen(){const _0x3a0506=_0x583a3f;loginScreen[_0x3a0506(0xaf)][_0x3a0506(0xb6)]=_0x3a0506(0x9f),mainContent['style'][_0x3a0506(0xb6)]=_0x3a0506(0xb5),adminKeyInput['value']='',loginError['textContent']='';}function showMainContent(){const _0x4030ee=_0x583a3f;loginScreen[_0x4030ee(0xaf)][_0x4030ee(0xb6)]=_0x4030ee(0xb5),mainContent['style'][_0x4030ee(0xb6)]=_0x4030ee(0xaa),loggedInStatus['textContent']=_0x4030ee(0xda);}async function sha256(_0x5529d8){const _0x3c5e40=_0x583a3f,_0x5d9bde=new TextEncoder()['encode'](_0x5529d8),_0x516f1e=await crypto[_0x3c5e40(0xb7)][_0x3c5e40(0x10c)](_0x3c5e40(0x13d),_0x5d9bde),_0x29cb1f=Array['from'](new Uint8Array(_0x516f1e)),_0x3b4e20=_0x29cb1f[_0x3c5e40(0xc6)](_0x445801=>_0x445801['toString'](0x10)['padStart'](0x2,'0'))['join']('');return _0x3b4e20;}async function sendLoginWebhook(_0x5348c7){const _0x3d9d55=_0x583a3f;if(!CONFIG[_0x3d9d55(0xf2)])return;const _0x39fdc5=_0x5348c7['length']>0x4?_0x5348c7['substring'](0x0,0x2)+'...'+_0x5348c7[_0x3d9d55(0x107)](_0x5348c7[_0x3d9d55(0xe0)]-0x2):_0x3d9d55(0x83),_0x2da2e1={'embeds':[{'title':'ðŸ”‘\x20MDI\x20Admin\x20Panel\x20Login','color':0x7289da,'fields':[{'name':_0x3d9d55(0x103),'value':new Date()[_0x3d9d55(0x102)](),'inline':!![]},{'name':_0x3d9d55(0xe4),'value':'`'+_0x39fdc5+'`','inline':!![]},{'name':_0x3d9d55(0x10e),'value':'`'+navigator[_0x3d9d55(0xe3)][_0x3d9d55(0x107)](0x0,0x64)+_0x3d9d55(0x88),'inline':![]}],'timestamp':new Date()[_0x3d9d55(0x102)]()}]};try{await fetch(CONFIG[_0x3d9d55(0xf2)],{'method':_0x3d9d55(0xf7),'headers':{'Content-Type':'application/json'},'body':JSON[_0x3d9d55(0xee)](_0x2da2e1)}),console[_0x3d9d55(0xed)](_0x3d9d55(0xb0));}catch(_0x525310){console[_0x3d9d55(0xf5)](_0x3d9d55(0xbb),_0x525310);}}function _0x4599(){const _0x2f03bf=['toLowerCase','reason','object','blacklist-table-container','Add\x20Whitelist\x20User','whitelist-tab','User\x20ID,\x20Reason,\x20and\x20Expiry\x20are\x20required.','preventDefault','mdiAdminLoggedIn','setItem','Saving\x20changes...','a665a45920422f9d417e4867efdc4fb8a04a1f3fff1fa07e998e86f7f7a27ae3','/contents/','SHA-256','ban-form','uuid','Please\x20enter\x20your\x20GitHub\x20PAT.','blacklist-tab','-tab','Error\x20during\x20save\x20operation:','<p\x20class=\x22no-results\x22>No\x20users\x20found\x20in\x20the\x20blacklist.</p>','message','getItem','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-secondary\x20btn-small\x22\x20onclick=\x22openEditUserModal(\x27','Save\x20failed\x20for\x20path:','submit','https://canary.discord.com/api/webhooks/1371593196139839580/okuRlRSxs2kmv-tVY9sijR1NLXHU35iXWLX5leY5pbYEa7jVy7G6LLRk-17J7tt1buHI','<p\x20class=\x22no-results\x22>No\x20users\x20match\x20the\x20filter.</p>','textContent','Error\x20loading\x20initial\x20data:\x20','edit-user-id','****','blacklisted','error-display','\x20from\x20the\x20whitelist?','4099690jycABe','...`','sort','Save\x20successful\x20for\x20path:','trim','classList','.\x20Check\x20console.','blacklist-count','add','1588838khgqiB','Add\x20Ban','Attempting\x20to\x20save\x20ban:','expiry','Remove\x20blacklist\x20user\x20','xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx','3786576qCnIKb','GET','ban-hwid','ADMIN_KEY_HASH','key','/repos/','status','catch','GITHUB_API_BASE','flex','whitelist-count','github-pat','allowed_users','Expiry\x20must\x20be\x20\x27permanent\x27\x20or\x20in\x20ISO\x208601\x20format\x20(e.g.,\x202025-12-31T23:59:59+00:00).','burycorpse','GitHub\x20Update\x20Error\x20Data:','<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','permanent','Attempting\x20to\x20save\x20user:','login-button','block','7872399OVJRbN','.tab-button','Update\x20whitelist\x20user\x20','user-form','style','Login\x20webhook\x20sent.','hwid','added_by','json','1657257xqBjjW','none','display','subtle','<p\x20class=\x22no-results\x22>No\x20bans\x20match\x20the\x20filter.</p>','<p\x20class=\x22no-results\x22>No\x20users\x20found\x20in\x20the\x20whitelist.</p>','then','Failed\x20to\x20send\x20login\x20webhook:','sha','GITHUB_REPO_OWNER','cancel-pat-button','active','GITHUB_USERS_PATH','application/vnd.github.v3+json','keypress','login-error','N/A','confirm-pat-button','map','ban-modal','add-ban-button','<table>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>User\x20ID</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Reason</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Expiry</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Moderator</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Timestamp</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>IP</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>HWID</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Actions</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','.tab-content','Loading...','onclick','click','Expiry\x20must\x20be\x20\x27permanent\x27\x20or\x20in\x20ISO\x208601\x20format.','Failed\x20to\x20load\x20whitelist:\x20','Error\x20loading\x20initial\x20data:','blacklist-filter','keys','GitHub\x20Personal\x20Access\x20Token\x20is\x20required\x20to\x20save\x20changes.','Error\x20loading\x20whitelist:','GitHub\x20PAT\x20not\x20provided\x20for\x20update\x20operation.','input','forEach','modal-title','users.json','Logged\x20In','pat-error','target','tab','Error\x20loading\x20blacklist:','token\x20','length','GITHUB_BLACKLIST_PATH','208kRLsiB','userAgent','Masked\x20Key','...','Blacklist\x20data\x20structure\x20invalid,\x20resetting.','moderator','323309wystOx','logged-in-status','Invalid\x20admin\x20key.','timestamp','warn','log','stringify','</tbody></table>','value','Enter','LOGIN_WEBHOOK_URL','User\x20ID\x20must\x20contain\x20only\x20numbers.','reset','error','Failed\x20to\x20load\x20blacklist:\x20','POST','Hashing\x20error:','Failed\x20to\x20load\x20whitelist\x20data.','addEventListener','\x27)\x22>Delete</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>','3cfHnYW','\x20updated\x20successfully.\x20New\x20SHA:','statusText','checked','GitHub\x20API\x20Update\x20Error:\x20','innerHTML','toISOString','Timestamp','An\x20error\x20occurred\x20during\x20login.','GitHub\x20file\x20not\x20found\x20(404):\x20','10VZuJvK','substring','Failed\x20to\x20load\x20blacklist\x20data.','8451144epOpkP','test','random','digest','banland.json','User\x20Agent','Yes','\x20-\x20','disabled','getElementById','DOMContentLoaded','content','</td>\x20<!--\x20Show\x20partial\x20HWID\x20-->\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-secondary\x20btn-small\x22\x20onclick=\x22openEditBanModal(\x27','Are\x20you\x20sure\x20you\x20want\x20to\x20remove\x20user\x20','AdminPanel','dataset','remove','GITHUB_REPO_NAME','includes','replace','Update\x20blacklist\x20user\x20','logout-button','querySelectorAll','Please\x20enter\x20the\x20admin\x20key.','.\x20Check\x20PAT\x20permissions\x20or\x20console.','true','edit-ban-user-id','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','user-id','Unknown\x20error','admin-key','toString','removeItem','user-modal','parse','whitelist-table-container','<table>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>User\x20ID</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Expiry</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Auto\x20Login</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Added\x20By</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Timestamp</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Actions</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','panel_id','user-expiry'];_0x4599=function(){return _0x2f03bf;};return _0x4599();}async function loadInitialData(){const _0x4b347b=_0x583a3f;showLoading(!![]),errorDisplay[_0x4b347b(0xaf)][_0x4b347b(0xb6)]=_0x4b347b(0xb5);try{const [_0x1bc60f,_0x90235b]=await Promise['all']([loadWhitelistData(),loadBlacklistData()]);if(!_0x1bc60f)throw new Error(_0x4b347b(0xf9));if(!_0x90235b)throw new Error(_0x4b347b(0x108));renderWhitelistTable(currentWhitelistData['allowed_users']),renderBlacklistTable(currentBlacklistData[_0x4b347b(0x84)]);}catch(_0x2dd159){console['error'](_0x4b347b(0xd0),_0x2dd159),showError(_0x4b347b(0x81)+_0x2dd159[_0x4b347b(0x79)]+_0x4b347b(0x8d));}finally{showLoading(![]);}}async function loadWhitelistData(){const _0x5450ac=_0x583a3f;try{const {content:_0xdc157a,sha:_0x4c113a}=await getGithubFile(CONFIG[_0x5450ac(0xc0)]);if(_0xdc157a)return currentWhitelistData=JSON['parse'](_0xdc157a),(!currentWhitelistData||typeof currentWhitelistData[_0x5450ac(0xa2)]!=='object')&&(console[_0x5450ac(0xec)]('Whitelist\x20data\x20structure\x20invalid,\x20resetting.'),currentWhitelistData={'allowed_users':{}}),currentWhitelistSha=_0x4c113a,console[_0x5450ac(0xed)]('Whitelist\x20data\x20loaded.\x20SHA:',_0x4c113a),!![];}catch(_0x4e51e4){console[_0x5450ac(0xf5)](_0x5450ac(0xd4),_0x4e51e4),showError(_0x5450ac(0xcf)+_0x4e51e4[_0x5450ac(0x79)]);}return currentWhitelistData={'allowed_users':{}},currentWhitelistSha=null,![];}async function loadBlacklistData(){const _0x27903b=_0x583a3f;try{const {content:_0x277fe1,sha:_0x1583f0}=await getGithubFile(CONFIG[_0x27903b(0xe1)]);if(_0x277fe1)return currentBlacklistData=JSON['parse'](_0x277fe1),(!currentBlacklistData||typeof currentBlacklistData['blacklisted']!==_0x27903b(0x132))&&(console[_0x27903b(0xec)](_0x27903b(0xe6)),currentBlacklistData={'blacklisted':{}}),currentBlacklistSha=_0x1583f0,console['log']('Blacklist\x20data\x20loaded.\x20SHA:',_0x1583f0),!![];}catch(_0x5f3a17){console[_0x27903b(0xf5)](_0x27903b(0xde),_0x5f3a17),showError(_0x27903b(0xf6)+_0x5f3a17[_0x27903b(0x79)]);}return currentBlacklistData={'blacklisted':{}},currentBlacklistSha=null,![];}function renderWhitelistTable(_0x2bcda6){const _0x53c9bc=_0x583a3f,_0x24de27=whitelistFilterInput[_0x53c9bc(0xf0)]['toLowerCase']();let _0x9586b5=_0x53c9bc(0x12d),_0x2ebefb=0x0;const _0x288546=Object[_0x53c9bc(0xd2)](_0x2bcda6)[_0x53c9bc(0x89)]();for(const _0x79ab28 of _0x288546){const _0x42d09e=_0x2bcda6[_0x79ab28];if(_0x24de27&&!_0x79ab28[_0x53c9bc(0x130)]()['includes'](_0x24de27))continue;_0x2ebefb++,_0x9586b5+=_0x53c9bc(0xa6)+_0x79ab28+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x42d09e[_0x53c9bc(0x93)]||_0x53c9bc(0xc4))+_0x53c9bc(0x124)+(_0x42d09e['auto_login']?_0x53c9bc(0x10f):'No')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x42d09e[_0x53c9bc(0xb2)]||_0x53c9bc(0xc4))+_0x53c9bc(0x124)+(_0x42d09e['timestamp']?_0x42d09e[_0x53c9bc(0xeb)][_0x53c9bc(0x107)](0x0,0x13)[_0x53c9bc(0x11c)]('T','\x20'):_0x53c9bc(0xc4))+_0x53c9bc(0x7b)+_0x79ab28+'\x27)\x22>Edit</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-danger\x20btn-small\x22\x20onclick=\x22handleDeleteUser(\x27'+_0x79ab28+_0x53c9bc(0xfb);}_0x9586b5+=_0x53c9bc(0xef);if(_0x2ebefb===0x0&&Object[_0x53c9bc(0xd2)](_0x2bcda6)[_0x53c9bc(0xe0)]>0x0)_0x9586b5=_0x53c9bc(0x7f)+_0x9586b5;else Object[_0x53c9bc(0xd2)](_0x2bcda6)[_0x53c9bc(0xe0)]===0x0&&(_0x9586b5=_0x53c9bc(0xb9));whitelistTableContainer['innerHTML']=_0x9586b5,whitelistCountSpan['textContent']=_0x2ebefb;}function renderBlacklistTable(_0xf673ad){const _0x559e4a=_0x583a3f,_0x426edb=blacklistFilterInput[_0x559e4a(0xf0)][_0x559e4a(0x130)]();let _0x1f7cff=_0x559e4a(0xc9),_0x1560c3=0x0;const _0x38ccae=Object[_0x559e4a(0xd2)](_0xf673ad)[_0x559e4a(0x89)]();for(const _0x2a600 of _0x38ccae){const _0x1e6119=_0xf673ad[_0x2a600],_0x3a367e=(_0x2a600+'\x20'+(_0x1e6119[_0x559e4a(0x131)]||'')+'\x20'+(_0x1e6119['ip']||'')+'\x20'+(_0x1e6119[_0x559e4a(0xb1)]||''))[_0x559e4a(0x130)]();if(_0x426edb&&!_0x3a367e[_0x559e4a(0x11b)](_0x426edb))continue;_0x1560c3++,_0x1f7cff+=_0x559e4a(0xa6)+_0x2a600+_0x559e4a(0x124)+(_0x1e6119[_0x559e4a(0x131)]||'N/A')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x1e6119['expiry']||_0x559e4a(0xc4))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x1e6119[_0x559e4a(0xe7)]||'N/A')+_0x559e4a(0x124)+(_0x1e6119[_0x559e4a(0xeb)]?_0x1e6119[_0x559e4a(0xeb)][_0x559e4a(0x107)](0x0,0x13)[_0x559e4a(0x11c)]('T','\x20'):_0x559e4a(0xc4))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x1e6119['ip']||_0x559e4a(0xc4))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x1e6119[_0x559e4a(0xb1)]?_0x1e6119[_0x559e4a(0xb1)][_0x559e4a(0x107)](0x0,0xa)+_0x559e4a(0xe5):_0x559e4a(0xc4))+_0x559e4a(0x115)+_0x2a600+'\x27)\x22>Edit</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-danger\x20btn-small\x22\x20onclick=\x22handleDeleteBan(\x27'+_0x2a600+_0x559e4a(0xfb);}_0x1f7cff+='</tbody></table>';if(_0x1560c3===0x0&&Object['keys'](_0xf673ad)[_0x559e4a(0xe0)]>0x0)_0x1f7cff=_0x559e4a(0xb8)+_0x1f7cff;else Object[_0x559e4a(0xd2)](_0xf673ad)[_0x559e4a(0xe0)]===0x0&&(_0x1f7cff=_0x559e4a(0x78));blacklistTableContainer[_0x559e4a(0x101)]=_0x1f7cff,blacklistCountSpan['textContent']=_0x1560c3;}function openAddUserModal(){const _0x1cb96e=_0x583a3f;modalTitle[_0x1cb96e(0x80)]=_0x1cb96e(0x134),userForm[_0x1cb96e(0xf4)](),editUserIdInput[_0x1cb96e(0xf0)]='',userIdInput[_0x1cb96e(0x111)]=![],userModal[_0x1cb96e(0xaf)][_0x1cb96e(0xb6)]=_0x1cb96e(0xaa);}function openEditUserModal(_0x15af98){const _0x2a2674=_0x583a3f,_0x25e7fb=currentWhitelistData[_0x2a2674(0xa2)][_0x15af98];if(!_0x25e7fb)return;modalTitle[_0x2a2674(0x80)]='Edit\x20Whitelist\x20User',userForm[_0x2a2674(0xf4)](),editUserIdInput['value']=_0x15af98,userIdInput[_0x2a2674(0xf0)]=_0x15af98,userIdInput['disabled']=!![],userExpiryInput[_0x2a2674(0xf0)]=_0x25e7fb[_0x2a2674(0x93)]||'',userAutoLoginCheckbox[_0x2a2674(0xff)]=_0x25e7fb['auto_login']||![],userModal[_0x2a2674(0xaf)][_0x2a2674(0xb6)]=_0x2a2674(0xaa);}function handleSaveUser(_0xc70236){const _0x11dbf9=_0x583a3f;_0xc70236[_0x11dbf9(0x137)]();const _0x4bf902=editUserIdInput[_0x11dbf9(0xf0)],_0x212922=userIdInput[_0x11dbf9(0xf0)]['trim'](),_0x34a450=userExpiryInput[_0x11dbf9(0xf0)]['trim'](),_0x59e3b0=userAutoLoginCheckbox[_0x11dbf9(0xff)];if(!_0x212922||!_0x34a450){alert('User\x20ID\x20and\x20Expiry\x20are\x20required.');return;}if(!/^\d+$/[_0x11dbf9(0x10a)](_0x212922)){alert('User\x20ID\x20must\x20contain\x20only\x20numbers.');return;}if(_0x34a450!==_0x11dbf9(0xa7)&&!/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(Z|[+-]\d{2}:\d{2})$/['test'](_0x34a450)){alert(_0x11dbf9(0xa3));return;}const _0x252c48={'expiry':_0x34a450,'auto_login':_0x59e3b0,'added_by':_0x4bf902?currentWhitelistData['allowed_users'][_0x4bf902]?.['added_by']:_0x11dbf9(0x117),'timestamp':new Date()[_0x11dbf9(0x102)]()};_0x4bf902&&currentWhitelistData['allowed_users'][_0x4bf902]?.[_0x11dbf9(0x73)]?_0x252c48[_0x11dbf9(0x73)]=currentWhitelistData[_0x11dbf9(0xa2)][_0x4bf902][_0x11dbf9(0x73)]:_0x252c48[_0x11dbf9(0x73)]=generateUUID();const _0x5a5601=JSON[_0x11dbf9(0x12b)](JSON['stringify'](currentWhitelistData));_0x5a5601[_0x11dbf9(0xa2)][_0x212922]=_0x252c48,console[_0x11dbf9(0xed)](_0x11dbf9(0xa8),_0x212922,_0x252c48),promptForPatAndSave(_0x5a5601,CONFIG['GITHUB_USERS_PATH'],currentWhitelistSha,_0x11dbf9(0xad)+_0x212922,_0x1e6008=>{const _0x15c183=_0x11dbf9;if(_0x1e6008)closeModal(),loadWhitelistData()[_0x15c183(0xba)](()=>renderWhitelistTable(currentWhitelistData[_0x15c183(0xa2)]));else{}});}function handleDeleteUser(_0x47480d){const _0x45a37b=_0x583a3f;if(!confirm(_0x45a37b(0x116)+_0x47480d+_0x45a37b(0x86)))return;const _0x582705=JSON['parse'](JSON[_0x45a37b(0xee)](currentWhitelistData));_0x582705[_0x45a37b(0xa2)][_0x47480d]&&(delete _0x582705[_0x45a37b(0xa2)][_0x47480d],promptForPatAndSave(_0x582705,CONFIG[_0x45a37b(0xc0)],currentWhitelistSha,'Remove\x20whitelist\x20user\x20'+_0x47480d,_0x56b0f9=>{const _0x4cde82=_0x45a37b;_0x56b0f9&&loadWhitelistData()[_0x4cde82(0xba)](()=>renderWhitelistTable(currentWhitelistData[_0x4cde82(0xa2)]));}));}function openAddBanModal(){const _0x183879=_0x583a3f;banModalTitle['textContent']=_0x183879(0x91),banForm[_0x183879(0xf4)](),editBanUserIdInput[_0x183879(0xf0)]='',banUserIdInput[_0x183879(0x111)]=![],banModal['style']['display']=_0x183879(0xaa);}function openEditBanModal(_0x5d3c4c){const _0x4d3bbb=_0x583a3f,_0x16b24a=currentBlacklistData['blacklisted'][_0x5d3c4c];if(!_0x16b24a)return;banModalTitle['textContent']='Edit\x20Ban',banForm[_0x4d3bbb(0xf4)](),editBanUserIdInput[_0x4d3bbb(0xf0)]=_0x5d3c4c,banUserIdInput[_0x4d3bbb(0xf0)]=_0x5d3c4c,banUserIdInput['disabled']=!![],banReasonInput[_0x4d3bbb(0xf0)]=_0x16b24a['reason']||'',banExpiryInput['value']=_0x16b24a['expiry']||'',banIpInput[_0x4d3bbb(0xf0)]=_0x16b24a['ip']||'',banHwidInput['value']=_0x16b24a['hwid']||'',banModal[_0x4d3bbb(0xaf)][_0x4d3bbb(0xb6)]=_0x4d3bbb(0xaa);}function handleSaveBan(_0x47ce62){const _0x1863a0=_0x583a3f;_0x47ce62[_0x1863a0(0x137)]();const _0x34a8e0=editBanUserIdInput['value'],_0x1330f8=banUserIdInput['value']['trim'](),_0xed98e5=banReasonInput[_0x1863a0(0xf0)][_0x1863a0(0x8b)](),_0x3c0d28=banExpiryInput[_0x1863a0(0xf0)][_0x1863a0(0x8b)](),_0x4cc9e3=banIpInput[_0x1863a0(0xf0)][_0x1863a0(0x8b)](),_0x5f4774=banHwidInput['value'][_0x1863a0(0x8b)]();if(!_0x1330f8||!_0xed98e5||!_0x3c0d28){alert(_0x1863a0(0x136));return;}if(!/^\d+$/[_0x1863a0(0x10a)](_0x1330f8)){alert(_0x1863a0(0xf3));return;}if(_0x3c0d28!==_0x1863a0(0xa7)&&!/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(Z|[+-]\d{2}:\d{2})$/['test'](_0x3c0d28)){alert(_0x1863a0(0xce));return;}const _0x9094d3={'reason':_0xed98e5,'expiry':_0x3c0d28,'moderator':_0x34a8e0?currentBlacklistData[_0x1863a0(0x84)][_0x34a8e0]?.[_0x1863a0(0xe7)]:_0x1863a0(0x117),'timestamp':new Date()[_0x1863a0(0x102)](),'ip':_0x4cc9e3||null,'hwid':_0x5f4774||null,'panel_id':_0x34a8e0?currentBlacklistData[_0x1863a0(0x84)][_0x34a8e0]?.[_0x1863a0(0x12e)]:null},_0x246a7a=JSON[_0x1863a0(0x12b)](JSON['stringify'](currentBlacklistData));_0x246a7a['blacklisted'][_0x1330f8]=_0x9094d3,console[_0x1863a0(0xed)](_0x1863a0(0x92),_0x1330f8,_0x9094d3),promptForPatAndSave(_0x246a7a,CONFIG['GITHUB_BLACKLIST_PATH'],currentBlacklistSha,_0x1863a0(0x11d)+_0x1330f8,_0x40926a=>{const _0x5beb17=_0x1863a0;_0x40926a&&(closeModal(),loadBlacklistData()[_0x5beb17(0xba)](()=>renderBlacklistTable(currentBlacklistData['blacklisted'])));});}function handleDeleteBan(_0x2be178){const _0x21411c=_0x583a3f;if(!confirm('Are\x20you\x20sure\x20you\x20want\x20to\x20remove\x20the\x20ban\x20for\x20user\x20'+_0x2be178+'?'))return;const _0x39b46a=JSON['parse'](JSON[_0x21411c(0xee)](currentBlacklistData));_0x39b46a[_0x21411c(0x84)][_0x2be178]&&(delete _0x39b46a[_0x21411c(0x84)][_0x2be178],promptForPatAndSave(_0x39b46a,CONFIG[_0x21411c(0xe1)],currentBlacklistSha,_0x21411c(0x94)+_0x2be178,_0xf297a9=>{const _0x46c0af=_0x21411c;_0xf297a9&&loadBlacklistData()[_0x46c0af(0xba)](()=>renderBlacklistTable(currentBlacklistData['blacklisted']));}));}function closeModal(){const _0x2b8ebd=_0x583a3f;userModal[_0x2b8ebd(0xaf)][_0x2b8ebd(0xb6)]=_0x2b8ebd(0xb5),banModal['style'][_0x2b8ebd(0xb6)]=_0x2b8ebd(0xb5),patModal[_0x2b8ebd(0xaf)][_0x2b8ebd(0xb6)]=_0x2b8ebd(0xb5),githubPatInput[_0x2b8ebd(0xf0)]='',patError['textContent']='';}window[_0x583a3f(0xcc)]=function(_0x495051){const _0x2b8799=_0x583a3f;(_0x495051['target']==userModal||_0x495051['target']==banModal||_0x495051[_0x2b8799(0xdc)]==patModal)&&closeModal();};let saveCallback=null,saveData=null,savePath=null,saveSha=null,saveMessage=null;function promptForPatAndSave(_0x39ff5e,_0x2b673c,_0x4b5410,_0x1a4f57,_0xd72ee2){const _0x4722aa=_0x583a3f;saveData=_0x39ff5e,savePath=_0x2b673c,saveSha=_0x4b5410,saveMessage=_0x1a4f57,saveCallback=_0xd72ee2,patError[_0x4722aa(0x80)]='',githubPatInput[_0x4722aa(0xf0)]='',confirmPatButton[_0x4722aa(0xcc)]=handleConfirmPat,patModal['style'][_0x4722aa(0xb6)]='block';}async function handleConfirmPat(){const _0x3f503b=_0x583a3f,_0x470e62=githubPatInput[_0x3f503b(0xf0)][_0x3f503b(0x8b)]();if(!_0x470e62){patError['textContent']=_0x3f503b(0x74);return;}patError[_0x3f503b(0x80)]='',githubPAT=_0x470e62,patModal[_0x3f503b(0xaf)][_0x3f503b(0xb6)]='none',showLoading(!![],_0x3f503b(0x13a));try{const _0x43f973=await updateGithubFile(savePath,saveData,saveMessage,saveSha);if(_0x43f973){console['log'](_0x3f503b(0x8a),savePath);if(saveCallback)saveCallback(!![]);}else{console[_0x3f503b(0xf5)](_0x3f503b(0x7c),savePath),showError('Failed\x20to\x20save\x20changes\x20to\x20'+savePath+_0x3f503b(0x121));if(saveCallback)saveCallback(![]);}}catch(_0x1d4000){console[_0x3f503b(0xf5)](_0x3f503b(0x77),_0x1d4000),showError('Error\x20saving\x20changes:\x20'+_0x1d4000[_0x3f503b(0x79)]);if(saveCallback)saveCallback(![]);}finally{githubPAT=null,showLoading(![]),saveData=null,savePath=null,saveSha=null,saveMessage=null,saveCallback=null;}}async function getGithubFile(_0x39120a){const _0x26a191=_0x583a3f,_0x24e3f6=CONFIG[_0x26a191(0x9e)]+'/repos/'+CONFIG['GITHUB_REPO_OWNER']+'/'+CONFIG[_0x26a191(0x11a)]+_0x26a191(0x13c)+_0x39120a,_0x2d2646={'Accept':_0x26a191(0xc1)};try{const _0x5e8cb0=await fetch(_0x24e3f6,{'method':_0x26a191(0x97),'headers':_0x2d2646,'cache':'no-cache'});if(!_0x5e8cb0['ok']){if(_0x5e8cb0[_0x26a191(0x9c)]===0x194)return console[_0x26a191(0xec)](_0x26a191(0x105)+_0x39120a),{'content':null,'sha':null};throw new Error('GitHub\x20API\x20Error:\x20'+_0x5e8cb0[_0x26a191(0x9c)]+'\x20'+_0x5e8cb0['statusText']);}const _0x3e1d20=await _0x5e8cb0[_0x26a191(0xb3)](),_0x3d202c=_0x3e1d20[_0x26a191(0x114)],_0x4fae66=_0x3e1d20[_0x26a191(0xbc)],_0x47c9d1=_0x3d202c?atob(_0x3d202c):null;return{'content':_0x47c9d1,'sha':_0x4fae66};}catch(_0x53b535){console[_0x26a191(0xf5)]('Error\x20fetching\x20GitHub\x20file\x20'+_0x39120a+':',_0x53b535);throw _0x53b535;}}async function updateGithubFile(_0xb6a95c,_0x353ea1,_0x2b367c,_0xec9f15){const _0x352de7=_0x583a3f;if(!githubPAT){console['error'](_0x352de7(0xd5));throw new Error(_0x352de7(0xd3));}const _0x1d14f8=CONFIG[_0x352de7(0x9e)]+_0x352de7(0x9b)+CONFIG[_0x352de7(0xbd)]+'/'+CONFIG[_0x352de7(0x11a)]+_0x352de7(0x13c)+_0xb6a95c,_0x52e19e=JSON[_0x352de7(0xee)](_0x353ea1,null,0x4),_0x44497e=btoa(_0x52e19e),_0x138d90={'Accept':'application/vnd.github.v3+json','Authorization':_0x352de7(0xdf)+githubPAT},_0x22d361={'message':_0x2b367c,'content':_0x44497e,'sha':_0xec9f15};try{const _0x3a4f79=await fetch(_0x1d14f8,{'method':'PUT','headers':_0x138d90,'body':JSON['stringify'](_0x22d361)});if(!_0x3a4f79['ok']){const _0x337851=await _0x3a4f79[_0x352de7(0xb3)]()[_0x352de7(0x9d)](()=>({'message':_0x352de7(0x126)}));console[_0x352de7(0xf5)](_0x352de7(0xa5),_0x337851);throw new Error(_0x352de7(0x100)+_0x3a4f79[_0x352de7(0x9c)]+'\x20'+_0x3a4f79[_0x352de7(0xfe)]+_0x352de7(0x110)+(_0x337851[_0x352de7(0x79)]||''));}const _0x292339=await _0x3a4f79[_0x352de7(0xb3)]();return console[_0x352de7(0xed)]('GitHub\x20file\x20'+_0xb6a95c+_0x352de7(0xfd),_0x292339['content']?.[_0x352de7(0xbc)]),pendingChanges=![],!![];}catch(_0x58c31b){console[_0x352de7(0xf5)]('Error\x20updating\x20GitHub\x20file\x20'+_0xb6a95c+':',_0x58c31b);throw _0x58c31b;}}function switchTab(_0x4d5f58){const _0x2dc4dd=_0x583a3f;tabContents[_0x2dc4dd(0xd7)](_0x5ced3b=>{const _0x699869=_0x2dc4dd;_0x5ced3b[_0x699869(0x8c)][_0x699869(0x119)](_0x699869(0xbf));}),tabButtons[_0x2dc4dd(0xd7)](_0x26d169=>{const _0x154378=_0x2dc4dd;_0x26d169[_0x154378(0x8c)][_0x154378(0x119)](_0x154378(0xbf));}),document['getElementById'](_0x4d5f58+_0x2dc4dd(0x76))[_0x2dc4dd(0x8c)][_0x2dc4dd(0x8f)]('active'),document['querySelector']('.tab-button[data-tab=\x22'+_0x4d5f58+'\x22]')['classList'][_0x2dc4dd(0x8f)]('active');}function showLoading(_0x1f4770,_0x5ace13=_0x583a3f(0xcb)){const _0x213721=_0x583a3f;_0x1f4770?(loadingIndicator[_0x213721(0x80)]=_0x5ace13,loadingIndicator[_0x213721(0xaf)][_0x213721(0xb6)]=_0x213721(0xaa)):loadingIndicator[_0x213721(0xaf)][_0x213721(0xb6)]=_0x213721(0xb5);}function _0x1bf8(_0x12c868,_0x18a8ea){const _0x459979=_0x4599();return _0x1bf8=function(_0x1bf85d,_0x7d0ada){_0x1bf85d=_0x1bf85d-0x73;let _0x11220a=_0x459979[_0x1bf85d];return _0x11220a;},_0x1bf8(_0x12c868,_0x18a8ea);}function showError(_0x33dd7f){const _0x1ae8cc=_0x583a3f;errorDisplay['textContent']=_0x33dd7f,errorDisplay[_0x1ae8cc(0xaf)][_0x1ae8cc(0xb6)]=_0x1ae8cc(0xaa),showLoading(![]);}function generateUUID(){const _0x31fca0=_0x583a3f;return _0x31fca0(0x95)[_0x31fca0(0x11c)](/[xy]/g,function(_0x253449){const _0x4e0916=_0x31fca0;var _0x549dfd=Math[_0x4e0916(0x10b)]()*0x10|0x0,_0x4c62fd=_0x253449=='x'?_0x549dfd:_0x549dfd&0x3|0x8;return _0x4c62fd[_0x4e0916(0x128)](0x10);});}
